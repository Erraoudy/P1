{% extends 'TWCOndeBundle::ondelayout.html.twig' %}
{% block Title %}Homepage {% endblock %}
{% block Style %}
    {{parent()}}
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote.css">
    <link href="{{ asset('assets/css/dropzone.css') }}" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.0.0/cropper.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.12/css/lightgallery.min.css">

    <style type="text/css" media="screen">
        .entry-title{
            color: #1e1e1e !important;
        }
        .note-group-select-from-files{
            display: none;
        }
        .xs-banner-inner-section{
            padding-bottom: 0px;
        }
        #forgot-form-a{
            display: none;
        }
        .container-m {
          position: relative;
          margin-top: 50px;
          height: 150px;
        }

        .overlay {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0);
          transition: background 0.5s ease;
        }

        .container-m:hover .overlay {
          display: block;
          background: rgba(0, 0, 0, .3);
        }

        .img-media {
          position: absolute;
          width: 500px;
          height: 300px;
          left: 0;
        }

        .button-media {
          position: absolute;
            width: 100%;
            top: 124px;
            text-align: center;
            opacity: 0;
            transition: opacity .35s ease;
        }

        .button-media a {
          width: 200px;
          padding: 12px 48px;
          text-align: center;
          color: white;
          border: solid 2px white;
          z-index: 1;
          text-decoration: none;
        }

        .container-m:hover .button-media {
          opacity: 1;
        }
    </style>
{% if app.request.locale == "ar" %}
<style type="text/css" media="screen">
    
    
    .xs-unorder-list li i{
        padding-left: 17px;
    }
    .text-icon-mis{
        text-align: center !important;
    }
    .xs-contact-form .input-group-text{
        border-left: 2px solid #eeeeee;
        border-right: 0;
    }
    .xs-contact-form input:not([type="submit"]), .xs-contact-form textarea{
        border-left: 0;
        border-right: 2px solid #eeeeee;
    }
    .xs-service-promo h5, .xs-service-promo p ,.xs-post-entry-title a,.xs-event-content p,{
        font-size: 20px;
    }
    .blockq-img{
        font-size: 18px;
    }
</style>
{% endif %}
{% endblock %}
{% block body %}
    {% include "TWCOndeBundle:Admin:header.html.twig" %} 
    <section class="xs-banner-inner-section parallax-window" style="background-image:url('{{asset('front/images/backgrounds/mission_bg.jpg')}}');">
        <div class="xs-black-overlay"></div>
            {# <div class="container">
                <div class="color-white xs-inner-banner-content">
                    <ul class="xs-breadcumb">
                        <li class="badge badge-pill badge-primary"><a href="index.html" class="color-white"> {{"missions.redirect.home"|trans}}</a> {{"missions.redirect.missions"|trans}}</li>
                    </ul>
                </div>
            </div> #}
            <div class="color-white xs-inner-banner-content pb-3">
                <h2>Documentation / Presse</h2>
            </div>
        </section>
    </section>
    

    <main class="xs-main">
        <section class="xs-content-section-padding">
            <div class="container">
                <a class="btn btn-primary pull-right btn-md btn-success mb-4" href="{{path('onde_add_media')}}">Ajouter une presse</a>
                <div class="table-responsive text-left"> 
                    <table class="table table-bordered" style="border: 1px solid #ddd;"> 
                        <thead> 
                            <tr> 
                                <th style="width: 5%;">#</th> 
                                <th style="width: 55%;">Title</th>
                                <th style="width: 20%;">Date</th> 
                                <th style="width: 20%;">Action</th>  
                            </tr> 
                        </thead> 
                        <tbody> 
                            {% if medias|length == 0 %}
                                <tr> 
                                    <td>Table cell</td>  
                                </tr>
                            {% else %}
                                {% for key, item in medias %}
                                    <tr> 
                                        <th scope="row">{{key+1}}</th> 
                                        <td>{{item.title}}</td> 
                                        <td>{{item.creationDate|date('d/m/Y')}}</td> 
                                        <td>
                                            <a class="btn btn-primary btn-xs btn-success" href='{{path('onde_add_media',{'id':item.id})}}'>Edit</a>
                                            <button class="btn btn-primary btn-xs btn-danger deleteMedia" data-id="{{item.id}}" type="button">Delete</button>
                                        </td> 
                                    </tr> 
                                {% endfor %}
                            {% endif %}
                        </tbody> 
                    </table> 
                </div>
            </div>
        </section>

    </main>
    {{ render(controller("TWCOndeBundle:Default:footer")) }}
{% endblock %}
{% block custom_js %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote.js" type="text/javascript"></script>
    <script type="text/javascript" src="{{ asset('assets/js/dropzone.js') }}"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.0.0/cropper.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.12/js/lightgallery.min.js"></script>
    <script type="text/javascript">
        $( document ).ready(function() {
            $(".blue-header").css('display','none');
            $('.responsive-images').lightGallery();
        });
        $('.deleteMedia').on('click', function(e) {
            let MediaId = $(this).attr("data-id");
            console.log(MediaId)
            $.ajax({
                type: 'POST',
                url: "{{ path('onde_delete_Media') }}/"+MediaId,
                success: function(data) {
                    window.location.reload();
                },
                error: function(data) {
                
                },
            });
        });
    </script>

{% endblock %}